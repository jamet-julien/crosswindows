<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Main</title>
    <style>
        *, body, html{
            box-sizing:border-box;
            margin:0;
            padding:0;
        }
        .box{
            float:left;
            border:none;
            width:33%;
            display:block;
        }
    </style>
</head>

<body>
    <div class="box">
        <input type="text" onChange="send( value);"></input>
        <div id="result"></div>
    </div>

    <iframe src="other.html" class="box"></iframe>
    <a href="page.html" class="box" target="_blank">go page</a>
    <!--iframe src="page.html" class="box"></iframe-->

<script type="text/javascript" src="js/plugin/CrossWindow.class.js"></script>

<script type="text/javascript">

    /**
     * [send envoie message lorsque l'input change]
     */
    function send( sValue){
        console.log( sValue);
       CrossWindow.send( 'page',{ value: 'main : '+sValue});
    }

    /**
     * [definir nom de la page courrante et action lors de reception de message]
     * @param  {[object]} e [variable envoy√©]
     */
    CrossWindow.setName('main').setOnMessage( function( e){
        console.log( e);
        sData = "<p>"+e.data.value+"</p>";
        document.getElementById('result').innerHTML += sData;

    });

</script>

</body>
</html>
